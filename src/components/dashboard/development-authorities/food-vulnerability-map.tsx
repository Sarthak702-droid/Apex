
'use client';

import { Badge } from '@/components/ui/badge';
import Image from 'next/image';

const zones = [
    { id: 'zone-a', name: 'Zone A', top: '20%', left: '30%', vulnerability: 'low' },
    { id: 'zone-b', name: 'Zone B', top: '50%', left: '15%', vulnerability: 'medium' },
    { id: 'zone-c', name: 'Zone C', top: '45%', left: '60%', vulnerability: 'high' },
    { id: 'zone-d', name: 'Zone D', top: '75%', left: '40%', vulnerability: 'low' },
];

const vulnerabilityStyles = {
    low: 'bg-green-500/80 hover:bg-green-600',
    medium: 'bg-yellow-500/80 hover:bg-yellow-600',
    high: 'bg-red-500/80 hover:bg-red-600',
};

export function FoodVulnerabilityMap() {
    return (
        <div className="relative w-full aspect-[4/3] bg-muted/30 rounded-lg overflow-hidden border">
            <Image
                src="https://maps.googleapis.com/maps/api/staticmap?center=20.2961,85.8245&zoom=12&size=600x450&maptype=roadmap&style=feature:poi|visibility:off&style=feature:transit|visibility:off&style=feature:road|element:labels|visibility:off&key=YOUR_API_KEY"
                alt="City Map"
                layout="fill"
                objectFit="cover"
                className="opacity-20"
                data-ai-hint="city map"
            />
            <div className="absolute inset-0 p-4">
                {zones.map(zone => (
                    <div
                        key={zone.id}
                        className="absolute -translate-x-1/2 -translate-y-1/2"
                        style={{ top: zone.top, left: zone.left }}
                    >
                        <Badge
                            className={`cursor-pointer transition-all text-white border-2 border-white/50 ${vulnerabilityStyles[zone.vulnerability as keyof typeof vulnerabilityStyles]}`}
                        >
                            {zone.name}
                        </Badge>
                    </div>
                ))}
            </div>
             <div className="absolute bottom-4 right-4 bg-background/80 p-3 rounded-md border shadow-lg">
                <h4 className="font-semibold text-xs mb-2">Vulnerability Legend</h4>
                <div className="flex flex-col gap-2">
                    <div className="flex items-center gap-2">
                        <div className="h-3 w-3 rounded-full bg-green-500"></div>
                        <span className="text-xs">Low Risk</span>
                    </div>
                    <div className="flex items-center gap-2">
                        <div className="h-3 w-3 rounded-full bg-yellow-500"></div>
                        <span className="text-xs">Medium Risk</span>
                    </div>
                    <div className="flex items-center gap-2">
                        <div className="h-3 w-3 rounded-full bg-red-500"></div>
                        <span className="text-xs">High Risk</span>
                    </div>
                </div>
            </div>
            <div className="absolute top-4 left-4 bg-background/80 p-2 rounded-md border text-xs text-muted-foreground">
                Note: This is a static map representation.
            </div>
        </div>
    );
}
